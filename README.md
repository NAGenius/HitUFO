# Unityå°æ¸¸æˆâ€”â€”Hit UFO

[toc]

## æ¸¸æˆèƒŒæ™¯ä¸è®¾å®š

> æ¸¸æˆè®¾å®šåœ¨ä¸€ä¸ªå……æ»¡æœªçŸ¥ä¸æŒ‘æˆ˜çš„å¤–å¤ªç©ºç¯å¢ƒä¸­ï¼Œç©å®¶æ‰®æ¼”ä¸€åå¤ªç©ºå®ˆæŠ¤è€…ï¼Œä»»åŠ¡æ˜¯å‡»è½ä¸æ–­æ¥è¢­çš„é£ç¢Ÿï¼ˆUFOï¼‰ã€‚è¿™äº›é£ç¢Ÿæ¥è‡ªä¸åŒçš„å¤–æ˜Ÿæ–‡æ˜ï¼Œå®ƒä»¬è¯•å›¾ä¾µæ‰°åœ°çƒçš„å®‰å…¨ï¼Œç©å®¶éœ€è¦è¿…é€Ÿååº”å¹¶å‡†ç¡®å‡»ä¸­è¿™äº›é£ç¢Ÿï¼Œä»¥ä¿æŠ¤åœ°çƒå…å—å¨èƒ
>
> 1. **æ¸¸æˆç›®æ ‡**ï¼šç©å®¶çš„ä¸»è¦ç›®æ ‡æ˜¯åœ¨æœ‰é™çš„æ—¶é—´å†…ï¼Œå°½å¯èƒ½å¤šåœ°å‡»ä¸­é£ç¢Ÿï¼Œä»¥è·å¾—é«˜åˆ†ã€‚æ¯å‡»ä¸­ä¸€ä¸ªé£ç¢Ÿï¼Œç©å®¶éƒ½å°†è·å¾—ç›¸åº”çš„åˆ†æ•°ï¼Œåˆ†æ•°çš„é«˜ä½å–å†³äºé£ç¢Ÿçš„é¢œè‰²ã€å¤§å°ã€é€Ÿåº¦ç­‰å› ç´ 
>
> 2. **æ¸¸æˆæ¨¡å¼**ï¼š
>    - **æ­£å¸¸æ¨¡å¼**ï¼šæ¸¸æˆé€šå¸¸åˆ†ä¸ºå¤šä¸ªå›åˆï¼ˆroundï¼‰ï¼Œæ¯ä¸ªå›åˆåŒ…å«ä¸€å®šæ•°é‡çš„è¯•éªŒï¼ˆtrialï¼‰ã€‚ä¾‹å¦‚ï¼Œæœ‰çš„ç‰ˆæœ¬è®¾å®šæœ‰5ä¸ªå›åˆï¼Œæ¯ä¸ªå›åˆåŒ…æ‹¬10æ¬¡è¯•éªŒã€‚éšç€å›åˆæ•°çš„å¢åŠ ï¼Œæ¸¸æˆçš„éš¾åº¦ä¹Ÿä¼šç›¸åº”æå‡ï¼Œé£ç¢Ÿçš„å±æ€§ï¼ˆå¦‚é€Ÿåº¦ã€æ•°é‡ç­‰ï¼‰ä¼šå˜å¾—æ›´åŠ å¤æ‚å’Œéš¾ä»¥åº”å¯¹
>    - **æ— å°½æ¨¡å¼**ï¼šåœ¨æŸäº›ç‰ˆæœ¬ä¸­ï¼Œæ¸¸æˆè¿˜æä¾›äº†æ— å°½æ¨¡å¼ï¼Œç©å®¶å¯ä»¥æ— é™åˆ¶åœ°ç»§ç»­æ¸¸æˆï¼ŒæŒ‘æˆ˜è‡ªå·±çš„æé™
>
> 3. **é£ç¢Ÿå±æ€§**ï¼šæ¯ä¸ªé£ç¢Ÿéƒ½å…·æœ‰ç‹¬ç‰¹çš„å±æ€§ï¼ŒåŒ…æ‹¬é¢œè‰²ã€å¤§å°ã€å‘å°„ä½ç½®ã€é€Ÿåº¦ã€è§’åº¦ç­‰ã€‚è¿™äº›å±æ€§åœ¨æ¯æ¬¡è¯•éªŒä¸­éƒ½æ˜¯éšæœºç”Ÿæˆçš„ï¼Œä¸ºç©å®¶æä¾›äº†ä¸åŒçš„æŒ‘æˆ˜å’Œå˜åŒ–ã€‚é£ç¢Ÿçš„é¢œè‰²é€šå¸¸ä¸åˆ†æ•°ç›¸å…³è”ï¼Œä¾‹å¦‚çº¢è‰²é£ç¢Ÿå¾—1åˆ†ï¼Œç»¿è‰²å¾—2åˆ†ï¼Œè“è‰²å¾—3åˆ†ã€‚é£ç¢Ÿçš„å¤§å°å’Œé€Ÿåº¦ä¹Ÿä¼šå½±å“å…¶å¾—åˆ†å’Œå‡»ä¸­çš„éš¾åº¦
>
> 4. **æ¸¸æˆæ§åˆ¶**ï¼šç©å®¶é€šè¿‡é¼ æ ‡ç‚¹å‡»æ¥å‡»ä¸­é£ç¢Ÿã€‚åœ¨æ¸¸æˆç•Œé¢ä¸Šï¼Œé£ç¢Ÿä¼šä»ä¸åŒçš„ä½ç½®å’Œè§’åº¦å‡ºç°ï¼Œç©å®¶éœ€è¦è¿…é€Ÿååº”å¹¶å‡†ç¡®ç‚¹å‡»ä»¥å‡»ä¸­å®ƒä»¬
>
> 5. **æ¸¸æˆç»“æŸæ¡ä»¶**ï¼šæ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå½“æ‰€æœ‰å›åˆçš„é£ç¢Ÿéƒ½è¢«å‡»è½æˆ–è¾¾åˆ°é¢„å®šçš„æ—¶é—´é™åˆ¶æ—¶ï¼Œæ¸¸æˆå°†ç»“æŸã€‚æ­¤æ—¶ï¼Œç©å®¶å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„æœ€ç»ˆå¾—åˆ†ï¼Œå¹¶ä¸å…¶ä»–ç©å®¶è¿›è¡Œæ¯”è¾ƒ
>
> 6. **æ¸¸æˆä¼˜åŒ–**ï¼šä¸ºäº†æé«˜æ¸¸æˆçš„æ€§èƒ½å’Œå¯ç©æ€§ï¼Œå¼€å‘è€…é€šå¸¸ä¼šé‡‡ç”¨å¯¹è±¡æ± ã€å·¥å‚æ¨¡å¼ç­‰è®¾è®¡æ¨¡å¼æ¥ç®¡ç†é£ç¢Ÿçš„åˆ›å»ºå’Œå›æ”¶ã€‚è¿™äº›æŠ€æœ¯å¯ä»¥å‡å°‘å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶çš„å¼€é”€ï¼Œæé«˜æ¸¸æˆçš„æµç•…åº¦å’Œå“åº”é€Ÿåº¦

<div style="text-align: right;">â€”â€”ä»¥ä¸Šå†…å®¹ä¸ºAI è¾…åŠ©åˆ›ä½œ</div>



## æ•ˆæœå±•ç¤º

![QQ20241118-132606](images\QQ20241118-132606.png)

![QQ20241118-132656](images\QQ20241118-132656.png)

> é¡¹ç›®åœ°å€ï¼šhttps://github.com/NAGenius/HitUFO



## è®¾è®¡æ€è·¯

### èµ„æºè·å–

> èµ„æºè·å–å§‹ç»ˆæ˜¯å¼€å‘æ¸¸æˆçš„é—¨æ§›ä¹‹ä¸€ï¼Œä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜æ€»ä¸è§å¾—æ˜¯ä¸€ä¸ªå¥½çš„è‰ºæœ¯å®¶ï¼Œè¿™æ—¶å€™åˆè¯¥æåˆ°......ğŸ¤”
>
> æœ¬é¡¹ç›®çš„èµ„æºå‡æ¥è‡ªï¼š[Unity èµ„æºå•†åŸ](https://assetstore.unity.com)

- **UFO**ï¼šhttps://assetstore.unity.com/packages/3d/vehicles/space/ufo-battleship-289193
- **Skybox**ï¼šhttps://assetstore.unity.com/packages/2d/textures-materials/sky/skybox-series-free-103633

![QQ20241118-121721](images\QQ20241118-121721.png)![QQ20241118-121600](images\QQ20241118-121600.png)



### èµ„æºä½¿ç”¨

> å°†è·å–çš„èµ„æºæ·»åŠ åˆ°æˆ‘çš„èµ„æºåï¼Œå¯ä»¥åœ¨ Unity é¡¹ç›®ä¸­é€šè¿‡ `Window -> Package Manager` **é€‰æ‹©æ€§è¿›è¡Œ import**

![QQ20241118-121919](images\QQ20241118-121919.png)

- **UFO**ï¼šåŠ è½½ `.prefab` æ–‡ä»¶å³å¯

```c#
Resources.Load("Prefabs/UFO", typeof(GameObject))
```

- **Skybox**ï¼šå°† `.mat` æ–‡ä»¶æŒ‚è½½åˆ° `Window -> Rendering -> Lighting` ä¸Šå³å¯

![QQ20241118-122530](images\QQ20241118-122530.png)



### UMLå›¾

> è¿™é‡Œç»™å‡º Controllers éƒ¨åˆ†çš„ UML å›¾ï¼ŒActionsã€Views éƒ¨åˆ†ç±»ä¼¼

![QQ20241118-124813](images\QQ20241118-124813.png)



### ç›®å½•ç»“æ„

> ä½¿ç”¨ `tree` å‘½ä»¤å¾—åˆ° `Assets` çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```sh
tree .

â”œâ”€Resources
â”‚  â”œâ”€Material
â”‚  â””â”€Prefabs
â”œâ”€Scenes
â”œâ”€Scripts
â”‚  â”œâ”€Actions
â”‚  â”œâ”€Controllers
â”‚  â””â”€Views
â””â”€SkySeries Freebie
    â””â”€FreebieHdri
```



### æ ¸å¿ƒè®¾è®¡ä¸å®ç°

#### é£ç¢Ÿè¿åŠ¨

> é£ç¢Ÿè¿åŠ¨å…¶å®æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„ç‰©ç†è¿åŠ¨è¿‡ç¨‹ï¼Œè¿™é‡Œå¯¹å…¶è¿›è¡Œç®€åŒ–æ“ä½œï¼š
>
> - ä½¿ç”¨ Unity æä¾›çš„ `Rigidbody` åˆšä½“éƒ¨ä»¶è¿›è¡Œæ¨¡æ‹Ÿ
> - ç®€å•é‡‡ç”¨æŠ›ç‰©çº¿å…¬å¼å¯¹é€Ÿåº¦è¿›è¡Œæ¨¡æ‹Ÿ

```c#
Vector3 position;
position.x = origin_position.x + speedX * time;
position.y = origin_position.y + speedY * time - 0.5f * 5f * time * time;
position.z = origin_position.z;
```

#### é£ç¢Ÿä»“åº“

> ç¼“å†²æ± æ˜¯ä¸€ç§å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼Œç”¨äºç¼“å­˜ä»è¾ƒæ…¢çš„å­˜å‚¨è®¾å¤‡ï¼ˆå¦‚ç¡¬ç›˜ï¼‰è¯»å–çš„æ•°æ®ï¼Œä»¥å‡å°‘å¯¹æ…¢é€Ÿè®¾å¤‡çš„è®¿é—®æ¬¡æ•°ï¼Œä»è€Œæé«˜æ•°æ®è®¿é—®é€Ÿåº¦ã€‚å…¶ä¸»è¦ç›®çš„æ˜¯é€šè¿‡å‡å°‘å¯¹æ…¢é€Ÿè®¾å¤‡çš„è®¿é—®ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½
>
> å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªé£ç¢Ÿä»“åº“ï¼Œç”¨ç¼“å†²æ± æŠ€æœ¯ç®¡ç†é£ç¢Ÿå¯¹è±¡ï¼ˆåŠ è½½ã€é‡Šæ”¾ã€å›æ”¶é£ç¢Ÿï¼‰ï¼Œé¿å…é¢‘ç¹åˆ›å»ºä¸é”€æ¯å¯¹è±¡çš„æ€§èƒ½å¼€é”€ï¼Œä»¥ä¸‹ä¸ºé‡Šæ”¾é£ç¢Ÿå‡½æ•°ä»£ç ï¼š

```c#
disk.SetActive(false);
disk.transform.position = new Vector3(0, 0, 0);
disk.transform.localScale = new Vector3(2, 0.1f, 2);
if (!used_UFO.Contains(disk))
{
    throw new MyException("Error: The disk to be freed is not in used_UFO list!");
}
used_UFO.Remove(disk);
free_UFO.Add(disk);
```

#### é£ç¢Ÿé™è½åˆ¤æ–­

> ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„é—®é¢˜å°±æ˜¯ï¼šå½“é£ç¢Ÿé™è½åœ¨åœ°é¢ä¸Šæ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼ŸğŸ¤”
>
> ç›´æ¥é”€æ¯ï¼Ÿä¼¼ä¹æ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹æ¡ˆï¼Œä½†å…¶å®è€ƒè™‘åˆ°ä¸Šè¿°é£ç¢Ÿä»“åº“çš„ç¼“å†²æ± æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å·²ç»é™è½åœ¨åœ°é¢ä¸Šçš„é£ç¢Ÿå°±è¡Œå›æ”¶ï¼Œä»¥è¾¾åˆ°èŠ‚çº¦èµ„æºçš„ç›®çš„



#### è®°åˆ†å‘˜ç±»

> å’Œä¸Šæ¬¡çš„è£åˆ¤ç±»å…¶å®æ¯”è¾ƒç±»ä¼¼ï¼Œç”¨äºç‹¬ç«‹ç®¡ç†å¾—åˆ†é€»è¾‘ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªæ¨¡å—åˆ’åˆ†çš„æ€æƒ³ï¼Œä»¥ä¾¿æœªæ¥çš„ç»´æŠ¤å’Œæ‰©å±•ğŸ¤”

```c#
using UnityEngine;

public class ScoreRecorder : MonoBehaviour
{
    int score;
    public RoundController round_ctrl;
    public UserGUI userGUI;
    // Start is called before the first frame update
    void Start()
    {
        round_ctrl = (RoundController)SSDirector.getInstance().currentSceneController;
        round_ctrl.score_recorder = this;
        userGUI = gameObject.GetComponent<UserGUI>();
    }

    public void Record(GameObject disk)
    {
        int score_onetime = disk.GetComponent<Disk_Attributes>().score;
        userGUI.gameMessage = "+" + score_onetime;
        score = score + score_onetime;
        userGUI.score = score;
    }

    // Update is called once per frame
    void Update()
    {
        
    }
}
```



## ç»“è¯­

> ğŸ‰ğŸ‰ğŸ‰ï¼Œè™½ç„¶ç®—æ˜¯åšå®Œäº†ï¼Œä½†æ˜¯æ•´ä½“æ•ˆæœè¿˜æ˜¯ä¸å¤ªå¥½ï¼Œå› ä¸ºåšçš„æ—¶é—´å®åœ¨æ˜¯æ¯”è¾ƒä»“ä¿ƒï¼Œç•™å¾…ä»¥åè¡¥å……å§~~
